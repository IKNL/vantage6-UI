<table style="width: 100%">
  <colgroup>
    <col span="1" style="width: 20%;"/>
    <col span="1" style="width: 25%;"/>
    <col span="1" style="width: 55%;"/>
  </colgroup>
  <tr>
    <th>Resource</th>
    <th>Scope</th>
    <th>Operation</th>
  </tr>
  <ng-container *ngFor="let rule_group of rule_groups; let idx = index">
    <tr>
      <td>
        <div *ngIf="idx===0 || rule_group.resource != rule_groups[idx-1].resource">
          {{rule_group.resource | titlecase}}
        </div>
      </td>
      <td>
        <button
          [className]="getScopeClass(rule_group)"
          [disabled]="isDisabledScope(rule_group)"
          (click)="selectOrDeselectScope(rule_group)"
        >
          {{rule_group.scope | titlecase}}
        </button>
      </td>
      <td>
        <div class="btn-group">
          <button *ngFor="let rule of rule_group.rules"
            [className]="getClass(rule)"
            [disabled]="isDisabled(rule)"
            (click)="selectOrDeselect(rule)"
          >
            {{rule.operation | titlecase}}
          </button>
        </div>
      </td>
    </tr>
  </ng-container>
</table>
