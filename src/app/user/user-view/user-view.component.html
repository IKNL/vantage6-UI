<table style="width: 100%">
  <colgroup>
    <col span="1" style="width: 20%;"/>
    <col span="1" style="width: 80%;"/>
  </colgroup>
  <tr>
    <td>Username:</td>
    <td>{{user.username}}</td>
  </tr>
  <tr>
    <td>Email:</td>
    <td>{{user.email}}</td>
  </tr>
  <tr>
    <td>Role(s):</td>
    <td>
      <div *ngFor="let role of user.roles" class="inline">
          <button mat-button class="btn-detail inline" disabled>
            {{role.name}}
          </button>
      </div>
      <div *ngIf="user.roles.length===0">
        This user has no roles!
      </div>
      <!-- <button mat-button class="btn-add inline">
        <mat-icon>add_circle_outline</mat-icon>
      </button> -->
    </td>
  </tr>
  <tr *ngIf="user.rules.length > 0">
    <td>Extra rules:</td>
    <td>
      <div *ngFor="let rule of user.rules" class="inline">
        <button mat-button class="btn-detail inline" disabled>
          {{rule.operation}} {{rule.resource}} ({{rule.scope}})
        </button>
      </div>
      <!-- <button mat-button class="btn-add inline">
        <mat-icon>add_circle_outline</mat-icon>
      </button> -->
    </td>
  </tr>
  <tr>
    <td>Permissions:</td>
    <td>
      <app-permission-table
        [given_roles]="user.roles"
        [given_rules]="user.rules"
        [loggedin_user_rules]="userPermission.userRules"
        [is_edit_mode]="false"
      ></app-permission-table>
    </td>
  </tr>
</table>
<button *ngIf="
      userPermission.hasPermission('edit', 'user', 'global') ||
      userPermission.hasPermission('edit', 'user', 'organization') ||
      (user.is_logged_in && userPermission.hasPermission('edit', 'user', 'own'))"
    mat-button class="btn btn-edit inline"
    (click)="editUser(user)">
  Edit
</button>
<button *ngIf="
      userPermission.hasPermission('delete', 'user', 'global') ||
      userPermission.hasPermission('delete', 'user', 'organization') ||
      (user.is_logged_in && userPermission.hasPermission('delete', 'user', 'own'))"
    mat-button class="btn btn-delete-strong"
    (click)="deleteUser(user)">
  Delete
</button>